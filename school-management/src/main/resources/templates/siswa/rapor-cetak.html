<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Rapor Siswa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 2rem; }
        @media print {
            .no-print { display: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="text-center">
            <h3>Laporan Hasil Belajar (Rapor)</h3>
            <h5>Semester Ganjil 2024/2025</h5>
        </div>
        <hr>
        <table class="table table-borderless table-sm" style="width: 400px;">
            <tr>
                <td><b>Nama Siswa</b></td>
                <td th:text="': ' + ${siswa.nama}"></td>
            </tr>
            <tr>
                <td><b>NIS</b></td>
                <td th:text="': ' + ${siswa.nis}"></td>
            </tr>
            <tr>
                <td><b>Kelas</b></td>
                <td th:text="': ' + ${siswa.kelas}"></td>
            </tr>
        </table>
        <br>
        <table class="table table-bordered">
            <thead class="text-center">
                <tr>
                    <th>No.</th>
                    <th>Mata Pelajaran</th>
                    <th>Nilai Akhir</th>
                    <th>Predikat</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="nilai, iterStat : ${listNilai}">
                    <td class="text-center" th:text="${iterStat.count}"></td>
                    <td th:text="${nilai.mataPelajaran.namaMatpel}"></td>
                    <td class="text-center" th:text="${nilai.nilaiAkhir}"></td>
                    <td class="text-center" th:text="${nilai.nilaiAkhir >= 85 ? 'A' : (nilai.nilaiAkhir >= 75 ? 'B' : 'C')}"></td>
                </tr>
            </tbody>
        </table>
        
        <div class="d-flex justify-content-end mt-5">
            <div class="text-center">
                <p>Lembang, <span th:text="${#dates.format(#dates.createNow(), 'dd MMMM yyyy')}"></span></p>
                <p>Wali Kelas,</p>
                <br><br><br>
                <p>(___________________)</p>
            </div>
        </div>
        
        <button onclick="window.print()" class="btn btn-primary no-print">Cetak</button>
    </div>
</body>
</html>